(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{151:function(e,t,n){"use strict";n.r(t);var r=n(44),a=n.n(r),o=n(45),c=n.n(o),s=n(46),i=n.n(s),u=n(47),l=n.n(u),f=n(48),m=n.n(f),d=n(19),p=n.n(d),v=n(0),h=n.n(v),g=n(24),y=n(266),E=n.n(y),x=n(250),b=n(249),N=n(59),j=n(105),w=n(10),C=n(12),O=function(e){function t(){return a()(this,t),i()(this,l()(t).apply(this,arguments))}return m()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.conversation,n=e.userId,r=e.users,a=e.translation,o=e.history,c=e.showPictureModal,s=e.showDeleteConfirmation,i=t.messages.filter((function(e){return!e.deleted})),u=i.filter((function(e){return!e.read&&e.from._id!==n})),l=i.length>0?i[i.length-1]:null,f=l&&!l.read?"unread-message":"",m=function(){o.push("/conversation?".concat(E.a.stringify({convId:t._id})))};return h.a.createElement("tr",{key:t._id,className:u.length>0?"new-messages-bg":""},h.a.createElement("td",{className:"conversation-td"},h.a.createElement(x.a,{noGutters:!0},h.a.createElement(b.a,{xs:7,sm:10},h.a.createElement(k,{history:o,convId:t._id,userId:n,conversation:t,showPictureModal:c,users:r}),l&&h.a.createElement(x.a,{className:"message-preview d-none d-sm-flex",onClick:m},h.a.createElement(b.a,{xs:4,sm:2,className:"user-from-text",style:{paddingRight:0}},l.from.username,":"),h.a.createElement(b.a,{xs:8,sm:8,style:{paddingLeft:10}},h.a.createElement("div",{className:"conversation-text ".concat(f)},l.text)))),h.a.createElement(b.a,{xs:5,sm:2,className:"conversation-actions",onClick:m},u.length>0&&h.a.createElement(j.a,{variant:"success",style:{marginRight:15}},u.length),Object(C.timestampToHumanDate)(t.timestamp,!1,a),h.a.createElement("i",{className:"far fa-trash-alt",title:a.CONVERSATIONS.DELETE,style:{paddingLeft:10},onClick:function(e){return s(e,t._id)}}))),l&&h.a.createElement(x.a,{className:"message-preview d-flex d-sm-none",onClick:m},h.a.createElement(b.a,{xs:4,sm:2,className:"user-from-text"},l.from.username,":"),h.a.createElement(b.a,{xs:8,sm:8,style:{paddingLeft:10}},h.a.createElement("div",{className:"conversation-text ".concat(f)},l.text)))))}}]),t}(h.a.PureComponent);p()(O,"displayName","ConversationPreview"),t.default=Object(g.b)((function(e){return{user:e.authentication.user,users:e.users.users,translation:e.translation}}),{})(O);var k=function(e){function t(){return a()(this,t),i()(this,l()(t).apply(this,arguments))}return m()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.history,n=e.convId,r=e.conversation,a=e.userId,o=e.users,c=e.showPictureModal,s=r.users.map((function(e){return e._id})),i=o.filter((function(e){return s.includes(e._id)}));i.length>1&&(i=i.filter((function(e){return e._id!==a})));var u,l=i[0];u=1===i.length?l.pictureUrl?l.pictureUrl:"/images/default-profile.jpg":"/images/conversation-group.jpg";return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"profile-picture-wrapper"},1===i.length?h.a.createElement(N.a,{roundedCircle:!0,style:l.online?w.ONLINE_STYLE:{},className:"profile-picture",src:u,onClick:function(){return c(u)}}):h.a.createElement(N.a,{roundedCircle:!0,style:i.some((function(e){return e.online}))?w.ONLINE_STYLE:{},className:"profile-picture",src:u,onClick:function(){return c(u)}})),h.a.createElement("div",{style:{color:"#343a40"},onClick:function(){t.push("/conversation?".concat(E.a.stringify({convId:n})))}},1===i.length?h.a.createElement("strong",null,l.username):h.a.createElement("div",{className:"cut-senders-text"},i.map((function(e){return h.a.createElement("strong",{key:e._id,style:e.online?{color:w.MAIN_COLOR}:{}},e.username)})).reduce((function(e,t){return[e,", ",t]})))))}}]),t}(h.a.PureComponent);p()(k,"displayName","SenderInfo")},249:function(e,t,n){"use strict";var r=n(2),a=n(3),o=n(4),c=n.n(o),s=n(0),i=n.n(s),u=n(5),l=["xl","lg","md","sm","xs"],f=i.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,s=e.as,f=void 0===s?"div":s,m=Object(a.a)(e,["bsPrefix","className","as"]),d=Object(u.b)(n,"col"),p=[],v=[];return l.forEach((function(e){var t,n,r,a=m[e];if(delete m[e],null!=a&&"object"==typeof a){var o=a.span;t=void 0===o||o,n=a.offset,r=a.order}else t=a;var c="xs"!==e?"-"+e:"";null!=t&&p.push(!0===t?""+d+c:""+d+c+"-"+t),null!=r&&v.push("order"+c+"-"+r),null!=n&&v.push("offset"+c+"-"+n)})),p.length||p.push(d),i.a.createElement(f,Object(r.a)({},m,{ref:t,className:c.a.apply(void 0,[o].concat(p,v))}))}));f.displayName="Col",t.a=f},250:function(e,t,n){"use strict";var r=n(2),a=n(3),o=n(4),c=n.n(o),s=n(0),i=n.n(s),u=n(5),l=i.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.noGutters,s=e.as,l=void 0===s?"div":s,f=e.className,m=Object(a.a)(e,["bsPrefix","noGutters","as","className"]),d=Object(u.b)(n,"row");return i.a.createElement(l,Object(r.a)({ref:t},m,{className:c()(f,d,o&&"no-gutters")}))}));l.defaultProps={noGutters:!1},t.a=l},266:function(e,t,n){"use strict";var r=n(271),a=n(102),o=n(272);function c(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function s(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function i(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=a({arrayFormat:"none"},t)),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),a=t.shift(),c=t.length>0?t.join("="):void 0;c=void 0===c?null:o(c),n(o(a),c,r)})),Object.keys(r).sort().reduce((function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(n):e[t]=n,e}),Object.create(null))):r}t.extract=s,t.parse=i,t.stringify=function(e,t){!1===(t=a({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[c(t,e),"[",r,"]"].join(""):[c(t,e),"[",c(r,e),"]=",c(n,e)].join("")};case"bracket":return function(t,n){return null===n?c(t,e):[c(t,e),"[]=",c(n,e)].join("")};default:return function(t,n){return null===n?c(t,e):[c(t,e),"=",c(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map((function(r){var a=e[r];if(void 0===a)return"";if(null===a)return c(r,t);if(Array.isArray(a)){var o=[];return a.slice().forEach((function(e){void 0!==e&&o.push(n(r,e,o.length))})),o.join("&")}return c(r,t)+"="+c(a,t)})).filter((function(e){return e.length>0})).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:i(s(e),t)}}},271:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},272:function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),a=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function c(e){try{return decodeURIComponent(e)}catch(a){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=a.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=c(n[0]);r!==n[0]&&(t[n[0]]=r)}n=a.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),s=0;s<o.length;s++){var i=o[s];e=e.replace(new RegExp(i,"g"),t[i])}return e}(e)}}}}]);